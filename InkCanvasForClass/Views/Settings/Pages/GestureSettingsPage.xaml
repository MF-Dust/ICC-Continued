<UserControl x:Class="Ink_Canvas.Views.Settings.Pages.GestureSettingsPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
             xmlns:local="clr-namespace:Ink_Canvas.Views.Settings.Pages"
             mc:Ignorable="d"
             d:DesignHeight="1200" d:DesignWidth="800"
             Background="Transparent">

    <ui:DynamicScrollViewer VerticalScrollBarVisibility="Auto" PanningMode="VerticalOnly">
        <StackPanel Margin="0,0,12,24">
             <!-- Header -->
            <ui:TextBlock Text="手势" FontTypography="Title" Margin="0,0,0,8" />
            <ui:TextBlock Text="触控与鼠标手势行为设置" FontTypography="Body" Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="0,0,0,24" />

            <!-- Touch Group -->
            <ui:TextBlock Text="触摸手势" FontTypography="BodyStrong" Margin="0,0,0,8"/>
            
            <ui:CardControl Margin="0,0,0,4">
                <ui:CardControl.Icon>
                    <ui:SymbolIcon Symbol="HandRight24"/>
                </ui:CardControl.Icon>
                <ui:CardControl.Header>
                    <StackPanel>
                        <ui:TextBlock Text="进退白板模式自动开关双指移动功能" FontTypography="Body"/>
                        <ui:TextBlock Text="开启后退出画板模式时自动关闭双指移动手势，进入白板模式时自动开启双指移动手势" FontTypography="Caption" Foreground="{DynamicResource TextFillColorSecondaryBrush}" TextWrapping="Wrap"/>
                    </StackPanel>
                </ui:CardControl.Header>
                <ui:ToggleSwitch IsChecked="{Binding Gesture.AutoSwitchTwoFingerGesture, Mode=TwoWay}"/>
            </ui:CardControl>

            <ui:CardControl Margin="0,0,0,4">
                <ui:CardControl.Icon>
                    <ui:SymbolIcon Symbol="ArrowRotateClockwise24"/>
                </ui:CardControl.Icon>
                <ui:CardControl.Header>
                    <StackPanel>
                        <ui:TextBlock Text="允许双指旋转与缩放选中的墨迹" FontTypography="Body"/>
                        <ui:TextBlock Text="允许选中墨迹后对墨迹进行双指或多指缩放操作（此设置不受'允许双指旋转'设置的影响）" FontTypography="Caption" Foreground="{DynamicResource TextFillColorSecondaryBrush}" TextWrapping="Wrap"/>
                    </StackPanel>
                </ui:CardControl.Header>
                <ui:ToggleSwitch IsChecked="{Binding Gesture.IsEnableTwoFingerRotationOnSelection, Mode=TwoWay}"/>
            </ui:CardControl>

            <ui:CardControl Margin="0,0,0,4">
                <ui:CardControl.Icon>
                    <ui:SymbolIcon Symbol="EraserTool24"/>
                </ui:CardControl.Icon>
                <ui:CardControl.Header>
                     <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <ui:TextBlock Text="禁用手势橡皮" VerticalAlignment="Center"/>
                        <Border Background="{DynamicResource SystemAccentColorPrimaryBrush}" CornerRadius="4" Margin="8,0,0,0" Padding="6,2">
                            <TextBlock Text="新功能" FontSize="10" Foreground="White"/>
                        </Border>
                    </StackPanel>
                </ui:CardControl.Header>
                <ui:ToggleSwitch IsChecked="{Binding Gesture.DisableGestureEraser, Mode=TwoWay}"/>
            </ui:CardControl>
            <ui:InfoBar Severity="Informational" IsOpen="True" IsClosable="False" Message="禁用Ink Canvas祖传的手势橡皮，禁用后，高级选项中的'特殊屏幕模式'、'BoundsWidth'、'橡皮擦触摸大小倍数'、'四边红外模式'等选项将被禁用，同时也不能使用手指和手掌擦除墨迹。" Margin="0,0,0,12"/>

            <ui:CardControl Margin="0,0,0,4">
                <ui:CardControl.Icon>
                    <ui:SymbolIcon Symbol="Pen24"/>
                </ui:CardControl.Icon>
                <ui:CardControl.Header>
                    <ui:TextBlock Text="多指书写功能" FontTypography="Body"/>
                </ui:CardControl.Header>
                <ComboBox MinWidth="120" SelectedIndex="{Binding Gesture.DefaultMultiPointHandWritingMode, Mode=TwoWay}">
                    <ComboBoxItem Content="禁用"/>
                    <ComboBoxItem Content="只开启触摸"/>
                    <ComboBoxItem Content="保持上次选择"/>
                </ComboBox>
            </ui:CardControl>

            <ui:CardControl Margin="0,0,0,24">
                <ui:CardControl.Icon>
                    <ui:SymbolIcon Symbol="CursorClick24"/>
                </ui:CardControl.Icon>
                <ui:CardControl.Header>
                     <StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <ui:TextBlock Text="触摸书写时隐藏鼠标指针" VerticalAlignment="Center"/>
                            <Border Background="{DynamicResource SystemAccentColorPrimaryBrush}" CornerRadius="4" Margin="8,0,0,0" Padding="6,2">
                                <TextBlock Text="新功能" FontSize="10" Foreground="White"/>
                            </Border>
                        </StackPanel>
                        <ui:TextBlock Text="会在使用触摸屏时隐藏鼠标指针。若出现问题，请尝试快捷键'Alt + C'来强制显示。" FontTypography="Caption" Foreground="{DynamicResource TextFillColorSecondaryBrush}" TextWrapping="Wrap"/>
                    </StackPanel>
                </ui:CardControl.Header>
                <StackPanel Orientation="Horizontal">
                    <ComboBox MinWidth="140" SelectedIndex="{Binding Gesture.HideCursorMode, Mode=TwoWay}" Margin="0,0,8,0">
                        <ComboBoxItem Content="每次启动都开启"/>
                        <ComboBoxItem Content="每次启动都关闭"/>
                    </ComboBox>
                    <ui:ToggleSwitch IsChecked="{Binding Gesture.HideCursorWhenUsingTouchDevice, Mode=TwoWay}"/>
                </StackPanel>
            </ui:CardControl>

            <!-- Mouse Group -->
            <ui:TextBlock Text="鼠标手势" FontTypography="BodyStrong" Margin="0,0,0,8"/>
            <ui:CardExpander Margin="0,0,0,24" IsExpanded="True">
                <ui:CardExpander.Icon>
                    <ui:SymbolIcon Symbol="Cursor24"/>
                </ui:CardExpander.Icon>
                <ui:CardExpander.Header>
                    <StackPanel>
                        <StackPanel Orientation="Horizontal">
                             <ui:TextBlock Text="鼠标手势设置" VerticalAlignment="Center"/>
                             <Border Background="{DynamicResource SystemAccentColorPrimaryBrush}" CornerRadius="4" Margin="8,0,0,0" Padding="6,2">
                                <TextBlock Text="新功能" FontSize="10" Foreground="White"/>
                            </Border>
                        </StackPanel>
                        <ui:TextBlock Text="鼠标手势可以帮助您在使用鼠标进行批注书写时更加方便" FontTypography="Caption" Foreground="{DynamicResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </ui:CardExpander.Header>
                <StackPanel>
                    <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <ui:TextBlock Text="鼠标手势总开关" VerticalAlignment="Center"/>
                        <ui:ToggleSwitch Grid.Column="1" IsChecked="{Binding Gesture.EnableMouseGesture, Mode=TwoWay}"/>
                    </Grid>

                    <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <ui:TextBlock Text="按住鼠标右键移动画布" VerticalAlignment="Center"/>
                        <ui:ToggleSwitch Grid.Column="1" IsChecked="{Binding Gesture.EnableMouseRightBtnGesture, Mode=TwoWay}"/>
                    </Grid>
                    
                    <Separator Margin="0,0,0,12"/>

                    <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <ui:TextBlock Text="滑动鼠标滚轮功能" VerticalAlignment="Center"/>
                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                             <ComboBox Width="120" SelectedIndex="{Binding Gesture.MouseWheelAction, Mode=TwoWay}" Margin="0,0,8,0">
                                <ComboBoxItem Content="缩放画布"/>
                                <ComboBoxItem Content="调整笔粗细"/>
                            </ComboBox>
                            <ui:ToggleSwitch IsChecked="{Binding Gesture.EnableMouseWheelGesture, Mode=TwoWay}"/>
                        </StackPanel>
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <ui:TextBlock Text="鼠标滚轮正方向" VerticalAlignment="Center"/>
                        <ComboBox Grid.Column="1" Width="120" SelectedIndex="{Binding Gesture.MouseWheelDirection, Mode=TwoWay}">
                            <ComboBoxItem Content="滚轮向上"/>
                            <ComboBoxItem Content="滚轮向下"/>
                        </ComboBox>
                    </Grid>
                </StackPanel>
            </ui:CardExpander>

        </StackPanel>
    </ui:DynamicScrollViewer>
</UserControl>
